<?php
/** VERSION 1.6.2 */
/** Under License LGPL */
/** module loader/lib loader/extra lib loader by include_path/loader functions */
/** Autoloader by Yvzzi. The software included in this product contains copyrighted software that is licensed under the GPLv3. A copy of that license is included in this document. */
if(!function_exists("inner")){function inner(){$path=\Phar::running(true);if(empty($path))return __DIR__;return $path;}}if(!function_exists("module")){function module(){$path=dirname(\Phar::running(false));if(empty($path))return dirname(__DIR__);return $path;}}if(!function_exists("try_require_once")){function try_require_once(string $path){if(file_exists($path))require_once($path);}}(function(){$mode=__FILE__;$pos=strpos($mode,"@");$mode=$pos===false?"":substr($mode,$pos+1,strrpos($mode,".")-$pos-1);if($mode==="lib"){$libload=function(){$dirs=scandir(__DIR__);foreach($dirs as $dir){$autoload=__DIR__."/{$dir}/autoload.php";if(file_exists($autoload))require_once($autoload);$autoload=__DIR__."/{$dir}/autoload@bare.php";if(file_exists($autoload))require_once($autoload);$autoload=__DIR__."/{$dir}/autoload@module.php";if(file_exists($autoload))require_once($autoload);}};$libload();}elseif($mode==="bare"||$mode==="module"){$prefix=$mode==="module"?"/src/":"/";spl_autoload_register(function($class)use($prefix){$baseDir=__DIR__.$prefix;$file=str_replace('\\','/',$baseDir.$class).'.php';if(file_exists($file)){require_once($file);}});}elseif($mode==="extra"){$autolibload=function(){$dirs=explode(";",get_include_path());foreach($dirs as $dir){if(strpos($dir,"#")===0){$dir=substr($dir,1);if(strpos($dir,"=")===0){$dir=substr($dir,1);}else{$dir="{$dir}/autoload@lib.php";}if(file_exists($dir)){require_once($dir);}}}};$autolibload();}else{if(!empty($mode)){echo "[autoload] Invalid mode of autoload".PHP_EOL;debug_print_backtrace();exit;}}})();